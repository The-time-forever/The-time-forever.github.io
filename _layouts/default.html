<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <title>The Time Forever</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="/favicon.ico?v=2" type="image/x-icon">
    <link rel="icon" href="/images/favicon.png?v=2" type="image/png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            height: 100%;
            scroll-behavior: smooth;
            /* 点击锚点时平滑滚动 */
        }

        body {
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        /* 背景轮播容器 */
        .bg-slideshow {
            position: fixed;
            inset: 0;
            z-index: -1;
            overflow: hidden;
        }

        .bg-slideshow img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .bg-slideshow img.active {
            opacity: 1;
        }

        /* 轮播切换按钮 */
        .prev-slide,
        .next-slide {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 60px;
            font-weight: 100;
            cursor: pointer;
            z-index: 20;
            /* 高于背景，且高于 overlay 的部分内容 */
            opacity: 0;
            transition: opacity 0.3s ease, color 0.3s ease;
            padding: 50px 20px;
            /* 扩大点击热区 */
            height: 30vh;
            /* 垂直方向的大感应区 */
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            outline: none;
        }

        .prev-slide:hover,
        .next-slide:hover {
            opacity: 1;
            color: rgba(255, 255, 255, 0.95);
        }

        .prev-slide {
            left: 0;
        }

        .next-slide {
            right: 0;
        }

        /* 前景遮罩和整体布局 */
        .overlay {
            position: relative;
            min-height: 100vh;
            padding: 24px;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0) 80%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #fff;
        }

        /* 整体内容块，用于整体居中和避让箭头 */
        .hero-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: -40px;
            /* 视觉重心上移，避让底部箭头 */
            gap: 24px;
            /* 统一间距 */
        }

        /* 头像样式 */
        .avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.5);
            /* 半透明边框 */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), 0 0 15px rgba(255, 255, 255, 0.3);
            /* 柔和阴影 + 光圈 */
            object-fit: cover;
            /* 填满圆形 */
            object-position: 25% 15%;
            /* 关键：聚焦左上侧人脸 */
            transition: transform 0.3s ease;
        }

        .avatar:hover {
            transform: scale(1.05);
        }

        .header {
            margin-bottom: 8px;
            /* 减小 header 内部下边距，改用 gap 控制 */
        }

        .header h1 {
            font-size: 32px;
            letter-spacing: 0.04em;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 15px;
            opacity: 0.9;
        }

        /* 导航按钮区域 */
        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .nav-buttons a {
            padding: 10px 18px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.7);
            color: #fff;
            text-decoration: none;
            font-size: 14px;
            backdrop-filter: blur(8px);
            background: rgba(0, 0, 0, 0.25);
            transition:
                transform 0.15s ease,
                background 0.15s ease,
                box-shadow 0.15s ease;
        }

        .nav-buttons a:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        /* 底部下拉箭头按钮（在第一屏中间偏下） */
        .scroll-down {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 28px;
            color: #fff;
            text-decoration: none;
            opacity: 0;
            cursor: pointer;
            animation: bounce 1.5s infinite;
            padding: 50px 100px;
            transition: opacity 0.5s ease;
            z-index: 100;
        }

        .scroll-down:hover {
            opacity: 1;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translate(-50%, 0);
            }

            50% {
                transform: translate(-50%, -8px);
            }
        }

        /* 第二屏内容区域 */
        #more {
            background: transparent;
            color: #222;
            padding: 0 0 80px;
            /* 去掉左右 padding，允许全宽 */
        }

        .content-inner {
            width: 100%;
            /* 全宽 */
            max-width: none;
            margin: 0;
            /* 紧贴上一屏下方 */
            background: rgba(200, 210, 230, 0.1);
            backdrop-filter: blur(20px) saturate(150%);
            -webkit-backdrop-filter: blur(20px) saturate(150%);
            border-radius: 0;
            /* 去掉圆角 */
            border-top: 1px solid rgba(255, 255, 255, 0.25);
            border-bottom: 1px solid rgba(255, 255, 255, 0.25);
            border-left: none;
            border-right: none;
            padding: 60px 0;
            /* 垂直内边距 */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15);
            position: relative;
            z-index: 10;

            /* Flex 布局让内部内容居中 */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 限制内容宽度并防止贴边 */
        .content-inner>* {
            width: 100%;
            max-width: 900px;
            padding: 0 24px;
            /* 水平内边距防止贴边 */
            box-sizing: border-box;
        }

        .content-inner h2 {
            font-size: 22px;
            margin-bottom: 24px;
            text-align: center;
            font-weight: 600;
            color: #000;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
        }

        .post-list {
            list-style: none;
            margin-bottom: 48px;
        }

        .post-list li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            /* 线条改为半透明白 */
            display: flex;
            justify-content: space-between;
            gap: 12px;
            font-size: 15px;
            transition: background 0.2s;
            color: #222;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        .post-list li:hover {
            background: rgba(255, 255, 255, 0.2);
            padding-left: 8px;
            padding-right: 8px;
            border-radius: 8px;
        }

        .post-list a {
            color: #000;
            text-decoration: none;
            font-weight: 500;
        }

        .post-list a:hover {
            color: #0070f3;
        }

        .post-list span {
            color: #000000;
            font-weight: 500;
            font-size: 0.9em;
        }

        /* CSDN 按钮容器 */
        .platform-links {
            display: flex;
            justify-content: center;
        }

        /* CSDN 极简按钮样式 */
        .csdn-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 40px;
            background: #fc5531;
            /* CSDN 品牌色，或者用黑色 #222 */
            color: #fff;
            border-radius: 50px;
            text-decoration: none;
            font-size: 15px;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(252, 85, 49, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .csdn-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(252, 85, 49, 0.4);
        }

        /* 底部版权 */
        .footer {
            padding: 12px 0 16px;
            text-align: center;
            font-size: 12px;
            color: #fff;
            opacity: 0.8;
            background: rgba(0, 0, 0, 0.4);
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 24px;
            }
        }

        /* --- 悬浮留言板样式 --- */
        #guestbook-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: rgba(20, 20, 30, 0.8);
            border: 2px solid #00f3ff;
            /* 霓虹青色 */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 0 15px #00f3ff, inset 0 0 10px rgba(0, 243, 255, 0.3);
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            color: #00f3ff;
        }

        #guestbook-btn:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 0 25px #00f3ff, inset 0 0 15px rgba(0, 243, 255, 0.5);
            background: rgba(0, 243, 255, 0.1);
        }

        /* 侧滑面板 */
        #guestbook-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 400px;
            max-width: 90%;
            height: 100%;
            background: rgba(20, 20, 30, 0.6);
            /* 深色半透明 */
            backdrop-filter: blur(20px);
            /* 毛玻璃 */
            -webkit-backdrop-filter: blur(20px);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1001;
            display: flex;
            flex-direction: column;
        }

        #guestbook-panel.active {
            transform: translateX(0);
        }

        /* 面板头部 */
        .guestbook-header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .guestbook-header h3 {
            color: #fff;
            margin: 0;
            font-size: 1.2rem;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
        }

        #guestbook-close {
            background: none;
            border: none;
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
            line-height: 1;
            transition: color 0.3s;
        }

        #guestbook-close:hover {
            color: #00f3ff;
        }

        /* 面板内容 */
        .guestbook-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        /* 遮罩层 */
        #guestbook-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s;
            backdrop-filter: blur(2px);
        }

        #guestbook-overlay.active {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>

<body>
    <!-- 背景轮播图片：images/bg1.jpg/bg2.jpg/bg3.jpg 需与你仓库中的图片文件名一致 -->
    <div class="bg-slideshow">
        <img src="images/bgz1.jpg" class="active" alt="background 1" />
        <img src="images/bgz2.jpg" alt="background 2" />
        <img src="images/bgz3.jpg" alt="background 3" />
        <img src="images/bgz4.jpg" alt="background 4" />
        <img src="images/bgz5.jpg" alt="background 5" />
        <img src="images/bgz6.jpg" alt="background 6" />
        <img src="images/bgz7.jpg" alt="background 7" />
        <img src="images/bgz8.jpg" alt="background 8" />
        <img src="images/bgz9.jpg" alt="background 9" />
        <img src="images/bgz10.jpg" alt="background 10" />
        <img src="images/bgz11.jpg" alt="background 11" />
        <img src="images/bgz12.jpg" alt="background 12" />
    </div>

    <!-- 轮播手动切换按钮 -->
    <button class="prev-slide" aria-label="Previous Slide">&#10094;</button>
    <button class="next-slide" aria-label="Next Slide">&#10095;</button>

    <!-- 第一屏：封面 -->
    <div class="overlay">
        <div class="hero-content">
            <!-- 头像 -->
            <img src="images/avatar1.png" alt="Avatar" class="avatar"
                onload="if(this.naturalWidth === this.naturalHeight) this.style.objectPosition = 'center'" />

            <div class="header">
                <!-- 这里改成你想要显示的大标题 -->
                <h1>The Time Forever</h1>
                <!-- 这里是副标题，可以随便改 -->
                <p>欢迎来到我的博客，记录生活、学习与思考</p>
            </div>

            <div class="nav-buttons">
                <!-- 链接按你实际的路径改就行 -->
                <a href="/posts">文章列表</a>
                <a href="/about">关于我</a>
                <a href="https://github.com/the-time-forever" target="_blank">GitHub</a>
                <!-- 把下面这个邮箱改成你的 GitHub noreply 邮箱 -->
                <a href="mailto:206166322+The-time-forever@users.noreply.github.com">联系我</a>
            </div>
        </div>

        <!-- 下拉箭头 -->
        <a href="#more" class="scroll-down">⌄</a>
    </div>

    <!-- 第二屏内容：最新博客 & 其他账号 -->
    <section id="more">
        <div class="content-inner">
            <h2>最新博客</h2>
            <ul class="post-list">
                {% for post in site.posts limit:2 %}
                <li>
                    {% if post.redirect_to %}
                    <a href="{{ post.redirect_to }}" target="_blank">{{ post.title }}</a>
                    {% else %}
                    <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                    {% endif %}
                    <span>{{ post.date | date: "%Y-%m-%d" }}</span>
                </li>
                {% endfor %}
            </ul>

            <h2>我的其他平台</h2>
            <div class="platform-links">
                <a class="csdn-btn" href="https://blog.csdn.net/MATH9?spm=1000.2115.3001.5343" target="_blank">CSDN
                    技术博客</a>
            </div>
        </div>
    </section>

    <div class="footer">
        © 2025 The Time Forever · Hosted on GitHub Pages
    </div>

    <!-- 悬浮留言板按钮 -->
    <div id="guestbook-btn" title="留言板">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
    </div>

    <!-- 侧滑留言板面板 -->
    <div id="guestbook-panel">
        <div class="guestbook-header">
            <h3>留言板</h3>
            <button id="guestbook-close">&times;</button>
        </div>
        <div class="guestbook-content">
            <div class="giscus"></div>
        </div>
    </div>
    <div id="guestbook-overlay"></div>

    <!-- 简单的 JS，用来轮播背景图片 -->
    <script>
        const slides = document.querySelectorAll(".bg-slideshow img");
        let index = 0;
        let slideInterval;

        // 显示第 n 张图片
        function showSlide(n) {
            // 移除当前激活状态
            slides[index].classList.remove("active");

            // 计算新索引（支持负数循环）
            index = (n + slides.length) % slides.length;

            // 添加新激活状态
            slides[index].classList.add("active");
        }

        // 下一张
        function nextSlide() {
            showSlide(index + 1);
        }

        // 上一张
        function prevSlide() {
            showSlide(index - 1);
        }

        // 启动自动播放
        function startAutoPlay() {
            slideInterval = setInterval(nextSlide, 5000); // 每 5 秒切换
        }

        // 重置计时器（手动切换时调用）
        function resetTimer() {
            clearInterval(slideInterval);
            startAutoPlay();
        }

        // 绑定按钮事件
        document.querySelector('.prev-slide').addEventListener('click', () => {
            prevSlide();
            resetTimer();
        });

        document.querySelector('.next-slide').addEventListener('click', () => {
            nextSlide();
            resetTimer();
        });

        // 初始化自动播放
        startAutoPlay();

        // --- 留言板逻辑 ---
        const guestbookBtn = document.getElementById('guestbook-btn');
        const guestbookPanel = document.getElementById('guestbook-panel');
        const guestbookClose = document.getElementById('guestbook-close');
        const guestbookOverlay = document.getElementById('guestbook-overlay');
        let giscusLoaded = false;

        function openGuestbook() {
            guestbookPanel.classList.add('active');
            guestbookOverlay.classList.add('active');

            // 首次打开时加载 Giscus
            if (!giscusLoaded) {
                const script = document.createElement('script');
                script.src = "https://giscus.app/client.js";
                script.setAttribute('data-repo', "The-time-forever/The-time-forever.github.io");
                script.setAttribute('data-repo-id', "R_kgDOQXvq9w");
                script.setAttribute('data-category', "General");
                script.setAttribute('data-category-id', "DIC_kwDOQXvq984CzpQ2");
                script.setAttribute('data-mapping', "specific");
                script.setAttribute('data-term', "Guestbook");
                script.setAttribute('data-strict', "0");
                script.setAttribute('data-reactions-enabled', "1");
                script.setAttribute('data-emit-metadata', "0");
                script.setAttribute('data-input-position', "top");
                script.setAttribute('data-theme', "dark"); // 配合深色面板
                script.setAttribute('data-lang', "zh-CN");
                script.setAttribute('crossorigin', "anonymous");
                script.async = true;

                document.querySelector('.giscus').appendChild(script);
                giscusLoaded = true;
            }
        }

        function closeGuestbook() {
            guestbookPanel.classList.remove('active');
            guestbookOverlay.classList.remove('active');
        }

        guestbookBtn.addEventListener('click', openGuestbook);
        guestbookClose.addEventListener('click', closeGuestbook);
        guestbookOverlay.addEventListener('click', closeGuestbook);
    </script>
</body>

</html>